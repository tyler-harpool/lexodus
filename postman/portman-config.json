{
  "version": 1.0,
  "globals": {
    "collectionPreRequestScripts": [
      "// Auth: register or login, store access_token",
      "if (pm.collectionVariables.get('access_token')) { return; }",
      "",
      "const baseUrl = pm.environment.get('base_url') || pm.environment.get('baseUrl') || 'http://localhost:8080';",
      "const email = pm.environment.get('test_email');",
      "const password = pm.environment.get('test_password');",
      "const username = pm.environment.get('test_username');",
      "const displayName = pm.environment.get('test_display_name');",
      "",
      "pm.sendRequest({",
      "  url: baseUrl + '/api/v1/auth/register',",
      "  method: 'POST',",
      "  header: { 'Content-Type': 'application/json' },",
      "  body: { mode: 'raw', raw: JSON.stringify({ username, email, password, display_name: displayName }) }",
      "}, function (err, res) {",
      "  if (!err && res.code >= 200 && res.code < 300) {",
      "    const body = res.json();",
      "    pm.collectionVariables.set('access_token', body.access_token);",
      "    if (body.user && body.user.id) pm.collectionVariables.set('test_user_id', body.user.id);",
      "    console.log('Registered and got token');",
      "    return;",
      "  }",
      "  pm.sendRequest({",
      "    url: baseUrl + '/api/v1/auth/login',",
      "    method: 'POST',",
      "    header: { 'Content-Type': 'application/json' },",
      "    body: { mode: 'raw', raw: JSON.stringify({ email, password }) }",
      "  }, function (err2, res2) {",
      "    if (!err2 && res2.code >= 200 && res2.code < 300) {",
      "      const body2 = res2.json();",
      "      pm.collectionVariables.set('access_token', body2.access_token);",
      "      if (body2.user && body2.user.id) pm.collectionVariables.set('test_user_id', body2.user.id);",
      "      console.log('Logged in and got token');",
      "    } else {",
      "      console.error('Auth failed:', err2 || res2.code);",
      "    }",
      "  });",
      "});"
    ],
    "securityOverwrites": {
      "bearer": {
        "token": "{{access_token}}"
      }
    },
    "orderOfOperations": [
      "POST::/api/v1/auth/register",
      "POST::/api/v1/auth/login",
      "GET::/health",

      "POST::/api/cases",
      "POST::/api/attorneys",
      "POST::/api/judges",
      "POST::/api/defendants",
      "POST::/api/parties",
      "POST::/api/docket/entries",
      "POST::/api/filings",
      "POST::/api/motions",
      "POST::/api/charges",
      "POST::/api/evidence",
      "POST::/api/orders",
      "POST::/api/opinions",
      "POST::/api/deadlines",
      "POST::/api/calendar/events",
      "POST::/api/sentencing",
      "POST::/api/rules",
      "POST::/api/conflict-checks",
      "POST::/api/templates/orders",
      "POST::/api/case-notes",
      "POST::/api/todos",
      "POST::/api/service-records",
      "POST::/api/judges/assignments",
      "POST::/api/custody-transfers",
      "POST::/api/representations",
      "POST::/api/signatures",

      "POST::/api/cases/{id}/victims",
      "POST::/api/judges/{judge_id}/conflicts",
      "POST::/api/judges/{judge_id}/recusals",
      "POST::/api/opinions/{opinion_id}/drafts",
      "POST::/api/opinions/{opinion_id}/drafts/{draft_id}/comments",
      "POST::/api/cases/{id}/speedy-trial/start",
      "POST::/api/filings/upload/init",
      "POST::/api/features/override",
      "POST::/api/events",

      "GET::/api/cases",
      "GET::/api/cases/{id}",
      "GET::/api/attorneys",
      "GET::/api/attorneys/{id}",
      "GET::/api/judges",
      "GET::/api/judges/{id}",
      "GET::/api/defendants/{id}",
      "GET::/api/parties/{id}",
      "GET::/api/docket/entries/{id}",
      "GET::/api/filings/{id}",
      "GET::/api/motions/{id}",
      "GET::/api/charges/{id}",
      "GET::/api/evidence/{id}",
      "GET::/api/orders/{id}",
      "GET::/api/opinions/{id}",
      "GET::/api/deadlines/{id}",
      "GET::/api/sentencing/{id}",
      "GET::/api/rules/{id}",
      "GET::/api/templates/orders/{id}",
      "GET::/api/case-notes/{id}",
      "GET::/api/todos/{id}",

      "DELETE::/api/cases/{id}",
      "DELETE::/api/attorneys/{id}",
      "DELETE::/api/judges/{id}"
    ]
  },
  "tests": {
    "contractTests": [
      {
        "openApiOperation": "*::/*",
        "statusSuccess": {
          "enabled": true
        }
      },
      {
        "openApiOperation": "*::/*",
        "responseTime": {
          "enabled": true,
          "maxMs": 5000
        }
      },
      {
        "openApiOperation": "*::/*",
        "contentType": {
          "enabled": true
        }
      },
      {
        "openApiOperation": "*::/*",
        "jsonBody": {
          "enabled": true
        }
      },
      {
        "openApiOperation": "*::/*",
        "schemaValidation": {
          "enabled": true
        }
      }
    ]
  },
  "assignVariables": [
    {
      "openApiOperation": "POST::/api/cases",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_case_id" },
        { "responseBodyProp": "case_number", "name": "created_case_number" }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_attorney_id" },
        { "responseBodyProp": "bar_number", "name": "created_bar_number" }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_judge_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/defendants",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_defendant_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/parties",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_party_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/docket/entries",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_docket_entry_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/filings",
      "collectionVariables": [
        { "responseBodyProp": "filing_id", "name": "created_filing_id" },
        { "responseBodyProp": "document_id", "name": "created_document_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/motions",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_motion_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/orders",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_order_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_opinion_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/evidence",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_evidence_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/charges",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_charge_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/calendar/events",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_event_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/deadlines",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_deadline_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/sentencing",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_sentencing_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/rules",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_rule_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/conflict-checks",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_conflict_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/templates/orders",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_template_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/todos",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_todo_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/case-notes",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_case_note_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/service-records",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_service_record_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/representations",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_representation_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/assignments",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_assignment_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/custody-transfers",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_custody_transfer_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/victims",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_victim_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/{judge_id}/conflicts",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_conflict_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/{judge_id}/recusals",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_recusal_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions/{opinion_id}/drafts",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_draft_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions/{opinion_id}/drafts/{draft_id}/comments",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_comment_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/filings/upload/init",
      "collectionVariables": [
        { "responseBodyProp": "upload_id", "name": "created_upload_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/deadlines/{deadline_id}/extensions",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_extension_id" }
      ]
    },
    {
      "openApiOperation": "POST::/api/features/override",
      "collectionVariables": [
        { "responseBodyProp": "feature_path", "name": "created_feature_path" }
      ]
    },
    {
      "openApiOperation": "POST::/api/signatures",
      "collectionVariables": [
        { "responseBodyProp": "id", "name": "created_signature_id" }
      ]
    }
  ],
  "overwrites": [
    {
      "openApiOperation": "POST::/api/cases",
      "overwriteRequestBody": [
        { "key": "title", "value": "United States v. Rodriguez", "overwrite": true },
        { "key": "crime_type", "value": "fraud", "overwrite": true },
        { "key": "district_code", "value": "district9", "overwrite": true },
        { "key": "description", "value": "Federal narcotics conspiracy charge under 21 USC 846", "overwrite": true },
        { "key": "priority", "value": "high", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys",
      "overwriteRequestBody": [
        { "key": "bar_number", "value": "NY-{{$timestamp}}", "overwrite": true },
        { "key": "first_name", "value": "Maria", "overwrite": true },
        { "key": "last_name", "value": "Martinez", "overwrite": true },
        { "key": "email", "value": "mmartinez@martinez-pllc.com", "overwrite": true },
        { "key": "phone", "value": "212-555-0142", "overwrite": true },
        { "key": "firm_name", "value": "Martinez & Associates PLLC", "overwrite": true },
        { "key": "address.street1", "value": "500 Pearl Street", "overwrite": true },
        { "key": "address.city", "value": "New York", "overwrite": true },
        { "key": "address.state", "value": "NY", "overwrite": true },
        { "key": "address.zip_code", "value": "10007", "overwrite": true },
        { "key": "address.country", "value": "USA", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges",
      "overwriteRequestBody": [
        { "key": "name", "value": "Hon. Catherine R. Thornton", "overwrite": true },
        { "key": "title", "value": "Judge", "overwrite": true },
        { "key": "district", "value": "district9", "overwrite": true },
        { "key": "courtroom", "value": "3B", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/defendants",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "name", "value": "Carlos Eduardo Rodriguez", "overwrite": true },
        { "key": "citizenship_status", "value": "Citizen", "overwrite": true },
        { "key": "custody_status", "value": "In Custody", "overwrite": true },
        { "key": "bail_type", "value": "Cash", "overwrite": true },
        { "key": "bail_amount", "value": 250000, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/parties",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "party_type", "value": "Defendant", "overwrite": true },
        { "key": "name", "value": "Carlos Eduardo Rodriguez", "overwrite": true },
        { "key": "first_name", "value": "Carlos", "overwrite": true },
        { "key": "last_name", "value": "Rodriguez", "overwrite": true },
        { "key": "entity_type", "value": "Individual", "overwrite": true },
        { "key": "party_role", "value": "Lead", "overwrite": true },
        { "key": "pro_se", "value": false, "overwrite": true },
        { "key": "service_method", "value": "Electronic", "overwrite": true },
        { "key": "date_of_birth", "value": "1985-07-22", "overwrite": true },
        { "key": "email", "value": "c.rodriguez@example.com", "overwrite": true },
        { "key": "phone", "value": "212-555-0199", "overwrite": true },
        { "key": "ein", "value": null, "overwrite": true },
        { "key": "fax", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/docket/entries",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "entry_type", "value": "motion", "overwrite": true },
        { "key": "description", "value": "Motion to Suppress Evidence obtained during warrantless search", "overwrite": true },
        { "key": "filed_by", "value": "Maria Martinez", "overwrite": true },
        { "key": "document_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/filings",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "document_type", "value": "Motion", "overwrite": true },
        { "key": "title", "value": "Motion to Suppress Evidence", "overwrite": true },
        { "key": "filed_by", "value": "Maria Martinez, Esq.", "overwrite": true },
        { "key": "sealing_level", "value": null, "overwrite": true },
        { "key": "upload_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/motions",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "motion_type", "value": "Suppress", "overwrite": true },
        { "key": "filed_by", "value": "Defense", "overwrite": true },
        { "key": "description", "value": "Motion to suppress evidence obtained during warrantless vehicle search on I-95", "overwrite": true },
        { "key": "status", "value": "Pending", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/charges",
      "overwriteRequestBody": [
        { "key": "defendant_id", "value": "{{created_defendant_id}}", "overwrite": true },
        { "key": "count_number", "value": 1, "overwrite": true },
        { "key": "statute", "value": "21 USC 846", "overwrite": true },
        { "key": "offense_description", "value": "Conspiracy to distribute controlled substances", "overwrite": true },
        { "key": "plea", "value": "Not Yet Entered", "overwrite": true },
        { "key": "verdict", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/evidence",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "description", "value": "Seized narcotics from vehicle trunk - 2.3kg cocaine", "overwrite": true },
        { "key": "evidence_type", "value": "Physical", "overwrite": true },
        { "key": "location", "value": "DEA Evidence Vault, SDNY", "overwrite": true },
        { "key": "seized_by", "value": "DEA Special Agent Torres", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/orders",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "order_type", "value": "Detention", "overwrite": true },
        { "key": "title", "value": "Order of Pretrial Detention", "overwrite": true },
        { "key": "content", "value": "Defendant is ordered detained pending trial per 18 USC 3142(e).", "overwrite": true },
        { "key": "status", "value": "Draft", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "author_judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "author_judge_name", "value": "Hon. Catherine R. Thornton", "overwrite": true },
        { "key": "opinion_type", "value": "Memorandum", "overwrite": true },
        { "key": "case_name", "value": "United States v. Rodriguez", "overwrite": true },
        { "key": "docket_number", "value": "{{created_case_number}}", "overwrite": true },
        { "key": "title", "value": "Memorandum Opinion on Motion to Suppress", "overwrite": true },
        { "key": "content", "value": "The Court denies defendant motion to suppress.", "overwrite": true },
        { "key": "disposition", "value": "Dismissed", "overwrite": true },
        { "key": "status", "value": "Draft", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/deadlines",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "title", "value": "Pretrial motions filing deadline", "overwrite": true },
        { "key": "due_at", "value": "2026-04-15T17:00:00Z", "overwrite": true },
        { "key": "notes", "value": "Per scheduling order, all pretrial motions must be filed by this date", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/calendar/events",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "event_type", "value": "status_conference", "overwrite": true },
        { "key": "scheduled_date", "value": "2026-03-20T10:00:00Z", "overwrite": true },
        { "key": "duration_minutes", "value": 30, "overwrite": true },
        { "key": "courtroom", "value": "3B", "overwrite": true },
        { "key": "description", "value": "Initial status conference - case scheduling and discovery deadlines", "overwrite": true },
        { "key": "participants", "value": ["Defense counsel", "AUSA", "Defendant"], "overwrite": true },
        { "key": "is_public", "value": true, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/sentencing",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "defendant_id", "value": "{{created_defendant_id}}", "overwrite": true },
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "criminal_history_category", "value": "I", "overwrite": true },
        { "key": "offense_level", "value": 12, "overwrite": true },
        { "key": "departure_type", "value": "None", "overwrite": true },
        { "key": "variance_type", "value": "None", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/rules",
      "overwriteRequestBody": [
        { "key": "name", "value": "Discovery and Inspection", "overwrite": true },
        { "key": "description", "value": "Federal Rule of Criminal Procedure 16 - Government and defendant disclosure obligations", "overwrite": true },
        { "key": "source", "value": "Federal Rules of Criminal Procedure", "overwrite": true },
        { "key": "category", "value": "Discovery", "overwrite": true },
        { "key": "priority", "value": 1, "overwrite": true },
        { "key": "citation", "value": "Fed. R. Crim. P. 16", "overwrite": true },
        { "key": "effective_date", "value": "2025-12-01T00:00:00Z", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/conflict-checks",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "attorney_id", "value": "{{created_attorney_id}}", "overwrite": true },
        { "key": "check_type", "value": "initial", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/templates/orders",
      "overwriteRequestBody": [
        { "key": "name", "value": "Standard Detention Order", "overwrite": true },
        { "key": "content", "value": "ORDERED that defendant is detained pending trial pursuant to 18 USC 3142(e).", "overwrite": true },
        { "key": "template_type", "value": "detention", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/case-notes",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "content", "value": "Defense counsel requests 30-day continuance for additional discovery review. Government does not oppose.", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/todos",
      "overwriteRequestBody": [
        { "key": "title", "value": "Review Brady material production from AUSA", "overwrite": true },
        { "key": "user_id", "value": "{{test_user_id}}", "overwrite": true },
        { "key": "description", "value": "Government disclosed 450 pages of discovery per Rule 16. Review for exculpatory material.", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/service-records",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "document_id", "value": "{{created_document_id}}", "overwrite": true },
        { "key": "party_id", "value": "{{created_party_id}}", "overwrite": true },
        { "key": "served_by", "value": "Maria Martinez, Esq.", "overwrite": true },
        { "key": "served_to", "value": "AUSA Jennifer Walsh", "overwrite": true },
        { "key": "service_method", "value": "Electronic", "overwrite": true },
        { "key": "service_date", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/assignments",
      "overwriteRequestBody": [
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "assignment_type", "value": "Initial", "overwrite": true },
        { "key": "previous_judge_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/custody-transfers",
      "overwriteRequestBody": [
        { "key": "evidence_id", "value": "{{created_evidence_id}}", "overwrite": true },
        { "key": "from_custodian", "value": "DEA Special Agent Torres", "overwrite": true },
        { "key": "to_custodian", "value": "USMS Evidence Control", "overwrite": true },
        { "key": "reason", "value": "Transfer to court custody for trial exhibit", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/representations",
      "overwriteRequestBody": [
        { "key": "attorney_id", "value": "{{created_attorney_id}}", "overwrite": true },
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "party_id", "value": "{{created_party_id}}", "overwrite": true },
        { "key": "representation_type", "value": "Private", "overwrite": true },
        { "key": "cja_appointment_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/signatures",
      "overwriteRequestBody": [
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "signature_data", "value": "base64-encoded-signature-image-data", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/events",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "event_kind", "value": "text_entry", "overwrite": true },
        { "key": "entry_type", "value": "notice", "overwrite": true },
        { "key": "description", "value": "Case status updated to arraigned", "overwrite": true },
        { "key": "filed_by", "value": "Clerk of Court", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/victims",
      "overwriteRequestBody": [
        { "key": "name", "value": "Jane Doe", "overwrite": true },
        { "key": "victim_type", "value": "Individual", "overwrite": true },
        { "key": "contact_email", "value": "victim-advocate@district9.uscourts.gov", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/bar-admissions",
      "overwriteRequestBody": [
        { "key": "state", "value": "NY", "overwrite": true },
        { "key": "bar_number", "value": "NY-2019-04521", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true },
        { "key": "admission_date", "value": "2019-06-15T00:00:00Z", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/disciplinary-actions",
      "overwriteRequestBody": [
        { "key": "action_type", "value": "Reprimand", "overwrite": true },
        { "key": "description", "value": "Failure to timely file brief", "overwrite": true },
        { "key": "date", "value": "2025-01-15", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/federal-admissions",
      "overwriteRequestBody": [
        { "key": "court_name", "value": "Southern District of New York", "overwrite": true },
        { "key": "admission_date", "value": "2019-09-01T00:00:00Z", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/practice-areas",
      "overwriteRequestBody": [
        { "key": "area", "value": "criminal defense", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/pro-hac-vice",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "sponsoring_attorney_id", "value": "{{created_attorney_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{id}/cja-appointments",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/attorneys/{id}/ecf-registration",
      "overwriteRequestBody": [
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/bulk/update-status",
      "overwriteRequestBody": [
        { "key": "status", "value": "Active", "overwrite": true },
        { "key": "attorney_ids", "value": ["{{created_attorney_id}}"], "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/{judge_id}/conflicts",
      "overwriteRequestBody": [
        { "key": "conflict_type", "value": "Financial", "overwrite": true },
        { "key": "party_name", "value": "Rodriguez Industries LLC", "overwrite": true },
        { "key": "description", "value": "Judge spouse holds stock in defendant company", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/judges/{judge_id}/recusals",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "filed_by", "value": "Defense Counsel", "overwrite": true },
        { "key": "reason", "value": "Financial conflict of interest", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/judges/{id}",
      "overwriteRequestBody": [
        { "key": "status", "value": "Active", "overwrite": true },
        { "key": "title", "value": "Judge", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/cases/{id}",
      "overwriteRequestBody": [
        { "key": "crime_type", "value": "fraud", "overwrite": true },
        { "key": "priority", "value": "high", "overwrite": true },
        { "key": "status", "value": "arraigned", "overwrite": true },
        { "key": "title", "value": "Updated Case Title", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/attorneys/{attorney_id}/cases",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "representation_type", "value": "Private", "overwrite": true },
        { "key": "role", "value": "Lead", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/case-notes/{id}",
      "overwriteRequestBody": [
        { "key": "note_type", "value": "General", "overwrite": true },
        { "key": "content", "value": "Updated case note content", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/cases/{id}/status",
      "overwriteRequestBody": [
        { "key": "status", "value": "arraigned", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/plea",
      "overwriteRequestBody": [
        { "key": "plea", "value": "Not Guilty", "overwrite": true },
        { "key": "defendant_id", "value": "{{created_defendant_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/features/override",
      "overwriteRequestBody": [
        { "key": "scope", "value": "district", "overwrite": true },
        { "key": "feature_path", "value": "case-management", "overwrite": true },
        { "key": "enabled", "value": true, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/deadlines/reminders/send",
      "overwriteRequestBody": [
        { "key": "deadline_id", "value": "{{created_deadline_id}}", "overwrite": true },
        { "key": "reminder_type", "value": "Email", "overwrite": true },
        { "key": "recipient", "value": "clerk@district9.uscourts.gov", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/deadlines/calculate",
      "overwriteRequestBody": [
        { "key": "rule_code", "value": "STA-70", "overwrite": true },
        { "key": "start_date", "value": "2026-02-15", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/filings/upload/init",
      "overwriteRequestBody": [
        { "key": "filename", "value": "motion-to-suppress.pdf", "overwrite": true },
        { "key": "content_type", "value": "application/pdf", "overwrite": true },
        { "key": "file_size", "value": 1024000, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/representations/substitute",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "old_attorney_id", "value": "{{created_attorney_id}}", "overwrite": true },
        { "key": "new_attorney_id", "value": "{{created_attorney_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/representations/migrate",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "old_attorney_id", "value": "{{created_attorney_id}}", "overwrite": true },
        { "key": "new_attorney_id", "value": "{{created_attorney_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/extensions/{extension_id}/ruling",
      "overwriteRequestBody": [
        { "key": "status", "value": "Granted", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/recusals/{recusal_id}/ruling",
      "overwriteRequestBody": [
        { "key": "status", "value": "Denied", "overwrite": true },
        { "key": "ruling_reason", "value": "Insufficient grounds for recusal", "overwrite": true },
        { "key": "replacement_judge_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/recusals/{recusal_id}/process",
      "overwriteRequestBody": [
        { "key": "status", "value": "Denied", "overwrite": true },
        { "key": "ruling_reason", "value": "Insufficient grounds for recusal", "overwrite": true },
        { "key": "replacement_judge_id", "value": null, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/documents/from-attachment",
      "overwriteRequestBody": [
        { "key": "docket_attachment_id", "value": "{{created_docket_entry_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/service-records/bulk/{document_id}",
      "overwriteRequestBody": [
        { "key": "party_ids", "value": ["{{created_party_id}}"], "overwrite": true },
        { "key": "served_by", "value": "Maria Martinez, Esq.", "overwrite": true },
        { "key": "service_method", "value": "Electronic", "overwrite": true },
        { "key": "service_date", "value": null, "overwrite": true },
        { "key": "parties", "value": [{ "party_id": "{{created_party_id}}", "service_method": "Electronic" }], "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/calendar/events/{event_id}/status",
      "overwriteRequestBody": [
        { "key": "status", "value": "confirmed", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/deadlines/{id}/status",
      "overwriteRequestBody": [
        { "key": "status", "value": "met", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/orders/{order_id}",
      "overwriteRequestBody": [
        { "key": "status", "value": "Draft", "overwrite": true },
        { "key": "order_type", "value": "Detention", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/parties/{id}/status",
      "overwriteRequestBody": [
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/charges/{id}",
      "overwriteRequestBody": [
        { "key": "plea", "value": "Not Guilty", "overwrite": true },
        { "key": "verdict", "value": "Not Guilty", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/defendants/{id}",
      "overwriteRequestBody": [
        { "key": "citizenship_status", "value": "Citizen", "overwrite": true },
        { "key": "custody_status", "value": "In Custody", "overwrite": true },
        { "key": "bail_type", "value": "Cash", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/templates/orders/{template_id}",
      "overwriteRequestBody": [
        { "key": "template_type", "value": "detention", "overwrite": true },
        { "key": "order_type", "value": "Detention", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/attorneys/{id}/pro-hac-vice/{case_id}/status",
      "overwriteRequestBody": [
        { "key": "status", "value": "Active", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/victims/{victim_id}/notifications",
      "overwriteRequestBody": [
        { "key": "notification_type", "value": "Hearing Scheduled", "overwrite": true },
        { "key": "message", "value": "A hearing has been scheduled in your case", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/features",
      "overwriteRequestBody": [
        { "key": "feature_path", "value": "case-management", "overwrite": true },
        { "key": "enabled", "value": true, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/features/implementation",
      "overwriteRequestBody": [
        { "key": "feature_path", "value": "case-management", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/features/manager",
      "overwriteRequestBody": [
        { "key": "feature_path", "value": "case-management", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/sentencing/{id}",
      "overwriteRequestBody": [
        { "key": "criminal_history_category", "value": "I", "overwrite": true },
        { "key": "departure_type", "value": "None", "overwrite": true },
        { "key": "variance_type", "value": "None", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/rules/{id}",
      "overwriteRequestBody": [
        { "key": "category", "value": "Discovery", "overwrite": true },
        { "key": "source", "value": "Federal Rules of Criminal Procedure", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true },
        { "key": "effective_date", "value": "2025-12-01T00:00:00Z", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions/{opinion_id}/votes",
      "overwriteRequestBody": [
        { "key": "judge_id", "value": "{{created_judge_id}}", "overwrite": true },
        { "key": "vote_type", "value": "Join", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/motions/{id}",
      "overwriteRequestBody": [
        { "key": "motion_type", "value": "Suppress", "overwrite": true },
        { "key": "status", "value": "Pending", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/evidence/{id}",
      "overwriteRequestBody": [
        { "key": "evidence_type", "value": "Physical", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PATCH::/api/opinions/{opinion_id}",
      "overwriteRequestBody": [
        { "key": "status", "value": "Draft", "overwrite": true },
        { "key": "disposition", "value": "Dismissed", "overwrite": true },
        { "key": "opinion_type", "value": "Memorandum", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/sentencing/{id}/bop-designation",
      "overwriteRequestBody": [
        { "key": "security_level", "value": "Medium", "overwrite": true },
        { "key": "facility_name", "value": "FCI Otisville", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/victims/{victim_id}/notifications",
      "overwriteRequestBody": [
        { "key": "notification_type", "value": "Hearing Scheduled", "overwrite": true },
        { "key": "method", "value": "Email", "overwrite": true },
        { "key": "message", "value": "A hearing has been scheduled in your case", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/parties/{id}",
      "overwriteRequestBody": [
        { "key": "party_type", "value": "Defendant", "overwrite": true },
        { "key": "entity_type", "value": "Individual", "overwrite": true },
        { "key": "service_method", "value": "Electronic", "overwrite": true },
        { "key": "status", "value": "Active", "overwrite": true },
        { "key": "date_of_birth", "value": "1985-07-22", "overwrite": true },
        { "key": "party_role", "value": "Lead", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/opinions/{opinion_id}/drafts",
      "overwriteRequestBody": [
        { "key": "status", "value": "Draft", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/speedy-trial/start",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/cases/{id}/speedy-trial/exclude",
      "overwriteRequestBody": [
        { "key": "case_id", "value": "{{created_case_id}}", "overwrite": true },
        { "key": "days_excluded", "value": 30, "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/admin/court-memberships",
      "overwriteRequestBody": [
        { "key": "user_id", "value": "{{test_user_id}}", "overwrite": true },
        { "key": "court_id", "value": "district9", "overwrite": true },
        { "key": "role", "value": "clerk", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "PUT::/api/v1/users/{user_id}/tier",
      "overwriteRequestBody": [
        { "key": "tier", "value": "pro", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/v1/users",
      "overwriteRequestBody": [
        { "key": "username", "value": "portman_test_user", "overwrite": true },
        { "key": "display_name", "value": "Portman Test User", "overwrite": true },
        { "key": "email", "value": "portman-test@lexodus.dev", "overwrite": true },
        { "key": "password", "value": "TestPassword123", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/representations/{representation_id}/end",
      "overwriteRequestBody": [
        { "key": "reason", "value": "Completed Representation", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/documents/{id}/replace",
      "overwriteRequestBody": [
        { "key": "upload_id", "value": "00000000-0000-0000-0000-000000000000", "overwrite": true }
      ]
    },
    {
      "openApiOperation": "POST::/api/documents/{id}/seal",
      "overwriteRequestBody": [
        { "key": "sealing_level", "value": "SealedCourtOnly", "overwrite": true },
        { "key": "reason_code", "value": "JuvenileRecord", "overwrite": true }
      ]
    }
  ],
  "operationPreRequestScripts": [
    {
      "openApiOperation": "*::/*",
      "scripts": [
        "pm.request.headers.upsert({ key: 'X-Court-District', value: pm.environment.get('district') || 'district9' });"
      ]
    },
    {
      "openApiOperation": "POST::/api/todos",
      "scripts": [
        "try { var b = JSON.parse(pm.request.body.raw); var uid = pm.collectionVariables.get('test_user_id') || '1'; b.user_id = parseInt(uid, 10); pm.request.body.raw = JSON.stringify(b); } catch(e) {}"
      ]
    },
    {
      "openApiOperation": "PUT::/api/admin/court-memberships",
      "scripts": [
        "try { var b = JSON.parse(pm.request.body.raw); var uid = pm.collectionVariables.get('test_user_id') || '1'; b.user_id = parseInt(uid, 10); pm.request.body.raw = JSON.stringify(b); } catch(e) {}"
      ]
    },
    {
      "openApiOperation": "POST::/api/docket/entries/{entry_id}/link-document",
      "scripts": [
        "try { var b = JSON.parse(pm.request.body.raw); b.document_id = pm.collectionVariables.get('created_document_id') || '00000000-0000-0000-0000-000000000000'; pm.request.body.raw = JSON.stringify(b); } catch(e) {}"
      ]
    },
    {
      "openApiOperation": "POST::/api/documents/{id}/seal",
      "scripts": [
        "try { var b = JSON.parse(pm.request.body.raw); if (b.motion_id && !/^[0-9a-f]{8}-/.test(b.motion_id)) { b.motion_id = null; } pm.request.body.raw = JSON.stringify(b); } catch(e) {}"
      ]
    }
  ]
}
